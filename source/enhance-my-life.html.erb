---
title:
---

<h1>
  Select an enhancement
</h1>

<form>
  <div class="pure-g">
    <div class="pure-u-1-3 enhancement-box">
      <div class="enhancement">
        <input type="radio" name="enhancement" value="coffee" id="coffee">
          <label for="coffee">Make your own coffee, sack Starbucks</label>
        </input>
      </div>
    </div>
    <div class="pure-u-1-3 enhancement-box">
      <div class="enhancement">
        <input type="radio" name="enhancement" value="beer" id="beer">
          <label for="beer">Drink one less beer per week</label>
        </input>
      </div>
    </div>
    <div class="pure-u-1-3 enhancement-box">
      <div class="enhancement">
        <p>Hello</p>
      </div>
    </div>
  </div>
</form>

<img class="visuallyhidden" id="graph-image" style="max-width: 100%" src="images/beer-graph.png"></img>

<%= link_to("...", "add-to-your-pot", :class => "visuallyhidden", :id => "show-me-button") %>

<script>

var enhancements = [
  {'id': 'coffee',
   'friendlyName': 'one coffee a day',
   'moneyPerTime': '£3 a day',
   'monthlyAmount': '£60',
   'incomeTwentyYears': '£TODO',
   'imagePath': 'coffee-graph.png',
  },
  {'id': 'beer',
   'friendlyName': 'four pints each weekend',
   'moneyPerTime': '£20 a week',
   'monthlyAmount': '£90',
   'incomeTwentyYears': '£TODO',
   'imagePath': 'beer-graph.png',
  }
];

ready(function() {
  var allRadios = document.getElementsByName('enhancement');

  for(var i = 0; i < allRadios.length; ++i) {
    allRadios[i].addEventListener('click', handleRadioClick);
  }
});

function getEnhancementById(id) {
  for(var i = 0 ; i < enhancements.length; ++i) {
    if(enhancements[i].id == id) {
      return enhancements[i];
    }
  }

  console.error("no enhancement with id `" + id + "`");
}

function handleRadioClick(event) {
  console.log(event.target.value);

  setCurrentEnhancement(getEnhancementById(event.target.value));
}

function setCurrentEnhancement(enhancement) {
  var showMeButton = document.getElementById('show-me-button'),
      graphImg = document.getElementById('graph-image');

  console.log(enhancement);


  showMeButton.innerHTML = 'Show me how ' + enhancement.monthlyAmount + ' a month will enhance my life';
  graphImg.src = '../images/' + enhancement.imagePath;

  removeClass(showMeButton, 'visuallyhidden');
  removeClass(graphImg, 'visuallyhidden');

  localStorage.setItem("enhancement", JSON.stringify(enhancement));
}

</script>
